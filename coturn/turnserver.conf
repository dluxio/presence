# STUN/TURN server configuration for DLUX Presence

# Relay interfaces
relay-ip=0.0.0.0
external-ip=presence.dlux.io

# Listening ports
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=65535

# Use fingerprints in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Realm
realm=presence.dlux.io

# Log file (stdout for Docker)
log-file=stdout
verbose

# No multicast peers
no-multicast-peers

# No loopback peers
no-loopback-peers

# Disable UDP relay endpoints
#no-udp-relay

# Security settings
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Enable TLS
# cert=/etc/coturn/certs/turn_server_cert.pem
# pkey=/etc/coturn/certs/turn_server_pkey.pem

# Use auth secret (set via environment variable)
# use-auth-secret
# static-auth-secret=<TURN_SECRET>

# Process management
pidfile=/var/tmp/turnserver.pid 